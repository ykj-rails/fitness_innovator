<!--ユーザー情報変更画面 -->
<div class="container-fluid mt-4">
  <div class="row justify-content-center">
    <div class="col-12">
      <div class="devise-border-box">
        <div class="devise-border">
          <h3 class="mb-4">登録情報の変更</h3>
          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
          <%= devise_error_messages! %>
            <form>
              <div class="col-11 mx-auto">
                <div class="form-group mb-3">
                  <%= f.label :email, class: "form-label", id: "user_email-label" do %>
                    <i class="far fa-envelope"></i>メールアドレス
                  <% end %>
                  <%= f.email_field :email, required: true, autofocus: true, autocomplete: "email", class: "form-x" %>
                </div>
                <div class="form-group mb-3">
                  <%= f.label :password, class: "form-label", id: "user_password-label" do %>
                    <i class="fas fa-key"></i> 新しいパスワード
                  <% end %>
                  <%= f.password_field :password, minlength: "6", autocomplete: "new-password", class: "form-x" %>
                </div>
                <div class="form-group">
                  <%= f.label :password_confirmation, class: "form-label", id: "user_password_confirmation-label" do %>
                    <i class="fas fa-key"></i>新しいパスワードを確認
                  <% end %>
                  <%= f.password_field :password_confirmation, minlength: "6", autocomplete: "new-password", class: "form-x" %>
                  <small class="text-muted">パスワードを変更しない場合は空白のままにして下さい。</small>
                </div>
                <div class="my-border2"></div>
                <div class="form-group my-3">
                  <%= f.label :current_password, class: "form-label", id: "user_current_password-label" do %>
                    <i class="fas fa-key"></i>現在のパスワードを入力
                  <% end %>
                  <%= f.password_field :current_password, minlength: "6", autocomplete: "current-password", class: "form-x" %>
                  <small class="text-muted">変更を更新するために現在のパスワードが必要です。</small>
                </div>
                <div class="form-group">
                  <%= f.submit "更新する", class: "btn btn-primary btn-sm btn-block my-4" %>
                </div>
              </div>
            </form>
          <% end %>
        </div>
        <div class="devise-border">
          <div class="col-11 mx-auto">
            <small class="text-muted">パスワードを忘れた場合は、ログアウト後に「パスワード再設定メールの送信」ページから再設定を行ってください。<%= link_to 'ログアウトする', destroy_user_session_path, method: :delete %></small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%# ユーザー削除機能 %>
<%#Unhappy? <%= button_to "Cancel my account",
registration_path(resource_name),
data: { confirm: "この操作は取りせません。本当によろしいですか?" },
method: :delete %>

